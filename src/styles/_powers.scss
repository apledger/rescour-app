$powersBg: $grayLighter;
$lineSpacing: 14px;
//$powersBg: $red;

@mixin powerBg($powerBg) {
  border-left: 1px solid darken($powerBg, 10%);
  border-right: 1px solid darken($powerBg, 10%);
  @include gradient-vertical(lighten($powerBg, 5%), darken($powerBg, 5%));

  &:hover, &:active, {
    background: lighten($powerBg, 5%);

    .power-title {
      color: lighten($white, 5%);
    }
  }

  &:active, &.open {
    background: darken($powerBg, 5%);
    border-left: 1px solid darken($powerBg, 20%);
    @include box-shadow(inset 0 1px 2px rgba(0, 0, 0, 0.2));
    .power-title {
      color: $white !important;
    }
  }

  .power-title {
    color: $white;
  }

}

.powers {
  @include box-sizing(border-box);
  width: 100%;
  min-height: $lineSpacing*2;
  position: relative;
  @include gradient-vertical(darken($powersBg, 10%), lighten($powersBg, 10%));
  border-top: 1px solid darken($powersBg, 20%);
  @include box-shadows(inset 0 1px 0 lighten($powersBg, 20%), 0 2px 2px rgba(0, 0, 0, 0.4));
  z-index: 5000;

  .power {
    @include box-sizing(border-box);
    position: relative;
    display: inline-block;
    border-right: 1px solid darken($powersBg, 20%) !important;

    &.power-green {
      @include powerBg($green);
    }

    &.power-red {
      @include powerBg($red);
    }

    &.power-orange {
      @include powerBg($orange);
    }

    &:hover {
      background: lighten($powersBg, 5%);

      .power-title {
        color: darken($gray, 15%);
      }
    }

    &:active, &.open {
      background: darken($powersBg, 5%);
      @include box-shadow(inset 0 1px 2px rgba(0, 0, 0, 0.2));
    }

    &.open {
      .power-title {
        color: darken($gray, 15%);
      }
    }

    &:not(:first-child) {
      margin-left: -5px;
    }

    &:first-child {
      //border-left: none !important;
    }

    &.open {

      & > .power-menu {
        display: block;
      }

      & > .power-title::after {
        content: '\f106';
      }
    }

    .power-title {
      font-size: 12px;
      padding: $lineSpacing/2 $lineSpacing;
      cursor: pointer;
      font-weight: bold;
      text-transform: uppercase;
      color: $gray;

      &::after {
        font-family: FontAwesome;
        font-weight: normal;
        font-style: normal;
        text-decoration: inherit;
        -webkit-font-smoothing: antialiased;
        display: inline;
        content: '\f107';
        padding-left: $lineSpacing;
      }
    }

    .power-menu {
      position: absolute;
      left: 0;
      display: none;
      background: white;
      width: 200px;
      overflow: visible;
      border: 1px solid darken($powersBg, 10%);
      z-index: 2;
      @include border-radius(2px);
      @include box-shadow(0 1px 2px rgba(0, 0, 0, 0.4));

      ul {
        position: relative;
        width: auto;
        margin: 10px 0;



       li {
          padding: 5px 10px;

         &.active {
           background: $blue;
           color: $white;
         }

         a {
            text-decoration: none;
            color: $black;
          }

          i {
            color: $gray;
            font-size: 12px;
            margin-right: 5px;
          }


          &:hover {
            background: $blue;
            cursor: pointer;

            a, i {
              color: $white;
              font-weight: bold;
            }
          }
        }
      }
    }
  }
}